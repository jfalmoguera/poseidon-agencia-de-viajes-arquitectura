(self.webpackChunkagencia_de_viajes_arquitectura=self.webpackChunkagencia_de_viajes_arquitectura||[]).push([[822],{1822:(t,e,i)=>{"use strict";i.r(e),i.d(e,{ClientesModule:()=>D});var o=i(1),n=i(2006),l=i(1041),a=i(1591),r=i(5366),s=i(878),c=i(9996);class d{constructor(t){var e,i,o,n,l,a,r,s;this.id=null!==(e=null==t?void 0:t.id)&&void 0!==e?e:"",this.nombre=null!==(i=null==t?void 0:t.nombre)&&void 0!==i?i:"",this.apellidos=null!==(o=null==t?void 0:t.apellidos)&&void 0!==o?o:"",this.email=null!==(n=null==t?void 0:t.email)&&void 0!==n?n:"",this.fechaDeNacimiento=(null==t?void 0:t.fechaDeNacimiento)?new Date(t.fechaDeNacimiento):null,this.dni=null!==(l=null==t?void 0:t.dni)&&void 0!==l?l:"",this.telefono=null!==(a=null==t?void 0:t.telefono)&&void 0!==a?a:"",this.direccion=null!==(r=null==t?void 0:t.direccion)&&void 0!==r?r:"",this.estadoCivilId=null!==(s=null==t?void 0:t.estadoCivilId)&&void 0!==s?s:null}}class u{constructor(t){var e,i,o,n,l;this.id=null!==(e=null==t?void 0:t.id)&&void 0!==e?e:"",this.nombre=null!==(i=null==t?void 0:t.nombre)&&void 0!==i?i:"",this.dni=null!==(o=null==t?void 0:t.dni)&&void 0!==o?o:"",this.telefono=null!==(n=null==t?void 0:t.telefono)&&void 0!==n?n:"",this.estadoCivilDesc=null!==(l=null==t?void 0:t.estadoCivilDesc)&&void 0!==l?l:""}}var m=i(2693);let p=(()=>{class t{constructor(t){this.http=t,this.url="http://localhost:3000"}getAll(){return this.http.get(`${this.url}/clientes`).pipe((0,c.U)(t=>t.map(t=>new u(t))))}getById(t){return t?this.http.get(`${this.url}/clientes/${t}`).pipe((0,c.U)(t=>new d(t))):(0,s.of)(null)}save(t){return t?(null==t?void 0:t.id)?this.http.put(`${this.url}/clientes/${t.id}`,t).pipe((0,c.U)(t=>new d(t))):this.http.post(`${this.url}/clientes/`,t).pipe((0,c.U)(t=>new d(t))):(0,s.of)(null)}delete(t){return t?this.http.delete(`${this.url}/clientes/${t}`,{observe:"response"}).pipe((0,c.U)(t=>204===t.status)):(0,s.of)(!1)}getEstadosCiviles(){return(0,s.of)([{id:1,valor:"Soltero"},{id:2,valor:"Casado"},{id:3,valor:"Viudo"},{id:4,valor:"Divorciado"}])}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(m.eN))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var f=i(2797),h=i(1116),Z=i(1293),g=i(5965),v=i(3070),q=i(9550),b=i(9024),A=i(3841),T=i(7064),C=i(4369);function _(t,e){if(1&t&&(r.TgZ(0,"mat-option",14),r._uU(1),r.qZA()),2&t){const t=e.$implicit;r.Q6J("value",t.id),r.xp6(1),r.Oqu(t.valor)}}const U=function(t){return{submited:t}};let x=(()=>{class t{constructor(t,e,i,o){this.fb=t,this.router=i,this.clientesModel=o,this.estadosCivilList=[],this.submitted=!1,this.clientesForm=t.group({id:[""],nombre:["",l.kI.required],apellidos:["",l.kI.required],email:["",l.kI.email],dni:[""],telefono:[""],direccion:[""],fechaDeNacimiento:[""],estadoCivilId:[""]}),e.params.subscribe(t=>{this.id=t.id||""})}ngOnInit(){this.id&&this.clientesModel.getById(this.id).subscribe(t=>{if(t&&(this.clientesForm.patchValue(t),t.fechaDeNacimiento)){const e=(0,a.i)(t.fechaDeNacimiento);this.clientesForm.controls.fechaDeNacimiento.setValue(e)}}),this.clientesModel.getEstadosCiviles().subscribe(t=>{this.estadosCivilList=t})}guardarClick(t){if(this.submitted=!0,t.valid){const e=t.value;e.fechaDeNacimiento&&(e.fechaDeNacimiento=new Date(e.fechaDeNacimiento)),this.clientesModel.save(e).subscribe(t=>{this.router.navigate(["clientes"])})}}resetForm(){this.submitted=!1,this.clientesForm.reset()}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(l.qu),r.Y36(n.gz),r.Y36(n.F0),r.Y36(p))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-clientes-edit"]],decls:49,vars:7,consts:[[1,"filter-card"],[3,"formGroup","ngClass","ngSubmit"],["fxLayout","row wrap","fxLayoutGap","20px"],["appearance","legacy","fxFlex","1 1 300px"],["matInput","","placeholder","Introduce el nombre","formControlName","nombre"],["matInput","","placeholder","Introduce el destino","formControlName","apellidos"],["matInput","","placeholder","Introduce el nombre","formControlName","dni"],["matInput","","placeholder","Introduce el destino","formControlName","direccion"],["matInput","","type","email","placeholder","Introduce el nombre","formControlName","email"],["matInput","","placeholder","Introduce el destino","formControlName","telefono"],["matInput","","formControlName","fechaDeNacimiento",3,"matDatepicker"],["matSuffix","",3,"for"],["picker",""],["formControlName","estadoCivilId"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],[1,"row-buttons"],["mat-stroked-button","","color","primary","type","submit"],["mat-stroked-button","","color","accent","type","button",3,"click"]],template:function(t,e){if(1&t&&(r.TgZ(0,"mat-card",0),r.TgZ(1,"mat-card-header"),r.TgZ(2,"mat-card-title"),r._uU(3,"Busqueda de Viajes"),r.qZA(),r.qZA(),r.TgZ(4,"mat-card-content"),r.TgZ(5,"form",1),r.NdJ("ngSubmit",function(){return e.guardarClick(e.clientesForm)}),r.TgZ(6,"div",2),r.TgZ(7,"mat-form-field",3),r.TgZ(8,"mat-label"),r._uU(9,"Nombre"),r.qZA(),r._UZ(10,"input",4),r.qZA(),r.TgZ(11,"mat-form-field",3),r.TgZ(12,"mat-label"),r._uU(13,"Apellidos"),r.qZA(),r._UZ(14,"input",5),r.qZA(),r.TgZ(15,"mat-form-field",3),r.TgZ(16,"mat-label"),r._uU(17,"DNI"),r.qZA(),r._UZ(18,"input",6),r.qZA(),r.TgZ(19,"mat-form-field",3),r.TgZ(20,"mat-label"),r._uU(21,"Direccion"),r.qZA(),r._UZ(22,"input",7),r.qZA(),r.TgZ(23,"mat-form-field",3),r.TgZ(24,"mat-label"),r._uU(25,"email"),r.qZA(),r._UZ(26,"input",8),r.qZA(),r.TgZ(27,"mat-form-field",3),r.TgZ(28,"mat-label"),r._uU(29,"Telefono"),r.qZA(),r._UZ(30,"input",9),r.qZA(),r.TgZ(31,"mat-form-field",3),r.TgZ(32,"mat-label"),r._uU(33,"Fecha de Nacimiento"),r.qZA(),r._UZ(34,"input",10),r._UZ(35,"mat-datepicker-toggle",11),r._UZ(36,"mat-datepicker",null,12),r.qZA(),r.TgZ(38,"mat-form-field",3),r.TgZ(39,"mat-label"),r._uU(40,"Estado Civil"),r.qZA(),r.TgZ(41,"mat-select",13),r._UZ(42,"mat-option",14),r.YNc(43,_,2,2,"mat-option",15),r.qZA(),r.qZA(),r.qZA(),r.TgZ(44,"div",16),r.TgZ(45,"button",17),r._uU(46,"Guardar"),r.qZA(),r.TgZ(47,"button",18),r.NdJ("click",function(){return e.resetForm()}),r._uU(48,"Nuevo Cliente"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&t){const t=r.MAs(37);r.xp6(5),r.Q6J("formGroup",e.clientesForm)("ngClass",r.VKq(5,U,e.submitted)),r.xp6(29),r.Q6J("matDatepicker",t),r.xp6(1),r.Q6J("for",t),r.xp6(8),r.Q6J("ngForOf",e.estadosCivilList)}},directives:[f.a8,f.dk,f.n5,f.dn,l._Y,l.JL,l.sg,h.mk,Z.oO,g.xw,g.SQ,v.KE,g.yH,v.hX,q.Nt,l.Fj,l.JJ,l.u,b.hl,b.nW,v.R9,b.Mq,A.gD,T.ey,h.sg,C.lW],styles:[".filter-card[_ngcontent-%COMP%]{margin:40px;box-shadow:0 2px 1px -1px #0000004d,0 1px 1px 0 #0000003d,0 1px 3px 0 #00000038}.mat-card-header[_ngcontent-%COMP%]{margin-top:20px!important;margin-bottom:10px!important}.mat-card-content[_ngcontent-%COMP%]{padding:14px!important}"]}),t})();function N(t,e){if(1&t){const t=r.EpF();r.ynx(0),r.TgZ(1,"tr"),r.TgZ(2,"td"),r._uU(3),r.qZA(),r.TgZ(4,"td"),r._uU(5),r.qZA(),r.TgZ(6,"td"),r._uU(7),r.qZA(),r.TgZ(8,"td"),r._uU(9),r.qZA(),r.TgZ(10,"td"),r.TgZ(11,"i",3),r.NdJ("click",function(){const e=r.CHM(t).$implicit;return r.oxw().borrarClick(e.id)}),r.qZA(),r.TgZ(12,"i",4),r.NdJ("click",function(){const e=r.CHM(t).$implicit;return r.oxw().editarClick(e.id)}),r.qZA(),r.qZA(),r.qZA(),r.BQk()}if(2&t){const t=e.$implicit;r.xp6(3),r.Oqu(t.nombre),r.xp6(2),r.Oqu(t.dni),r.xp6(2),r.Oqu(t.telefono),r.xp6(2),r.Oqu(t.estadoCivilDesc)}}const k=[{path:"",component:(()=>{class t{constructor(t,e){this.clientesModel=t,this.router=e,this.clientes=[]}ngOnInit(){this.clientesModel.getAll().subscribe(t=>{console.log(t),this.clientes=t})}borrarClick(t){}editarClick(t){t&&this.router.navigate(["clientes/editar",t])}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(p),r.Y36(n.F0))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-clientes-list"]],decls:15,vars:1,consts:[[1,"container"],[1,"mi-tabla"],[4,"ngFor","ngForOf"],["title","Eliminar Cliente",1,"fa","fa-trash","in-red",3,"click"],["title","Editar Cliente",1,"far","fa-edit",3,"click"]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r.TgZ(1,"h1"),r._uU(2," Listado de Clientes "),r.qZA(),r.TgZ(3,"table",1),r.TgZ(4,"thead"),r.TgZ(5,"th"),r._uU(6,"Nombre"),r.qZA(),r.TgZ(7,"th"),r._uU(8,"DNI"),r.qZA(),r.TgZ(9,"th"),r._uU(10,"Telefono"),r.qZA(),r.TgZ(11,"th"),r._uU(12,"Estado Civil"),r.qZA(),r._UZ(13,"th"),r.qZA(),r.YNc(14,N,13,4,"ng-container",2),r.qZA(),r.qZA()),2&t&&(r.xp6(14),r.Q6J("ngForOf",e.clientes))},directives:[h.sg],styles:[""]}),t})()},{path:"editar",component:x},{path:"editar/:id",component:x}];let I=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[n.Bz.forChild(k)],n.Bz]}),t})(),D=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[I,o.m]]}),t})()}}]);